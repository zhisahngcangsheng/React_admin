{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/work/private/\\u535A\\u5BA2/reacrAdmin/src/component/Layout/menu.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { Menu } from 'antd';\nimport * as Icon from '@ant-design/icons';\nimport { MyState } from './../../reducer';\nimport { useHistory, useRouteMatch } from 'react-router-dom'; // 1、useHistory 跳转\n// 2、useLocation 路由信息\n// 3、useParams 参数\n// 4、useRouteMatch 路由路径信息\n\nexport default function MenuList() {\n  _s();\n\n  const {\n    SubMenu\n  } = Menu;\n  const {\n    state\n  } = useContext(MyState);\n  const history = useHistory();\n  const historyList = useRouteMatch();\n  let defaultKey = ['/home/:name', 'list0'];\n\n  if (sessionStorage.getItem('routerActive')) {\n    defaultKey = JSON.parse(sessionStorage.getItem('routerActive'));\n  }\n\n  function handleClick(e) {\n    if (e.key === historyList.path) return;\n    sessionStorage.setItem('routerActive', JSON.stringify(e.keyPath));\n    history.push(e.key);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Menu, {\n    onClick: handleClick,\n    defaultSelectedKeys: [defaultKey[0]],\n    defaultOpenKeys: [defaultKey[1]],\n    mode: \"inline\",\n    theme: \"dark\",\n    children: state.routerList.map((i, index) => {\n      let Btn = Icon[i.icon];\n      return /*#__PURE__*/_jsxDEV(SubMenu, {\n        icon: /*#__PURE__*/_jsxDEV(Btn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 61\n        }, this),\n        title: i.title,\n        children: i.children.map(item => {\n          return /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: item.math.value\n          }, item.pathName, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 37\n          }, this);\n        })\n      }, `list${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MenuList, \"grioLLAO04AMo8mqSqrjaIVFDE8=\", false, function () {\n  return [useHistory, useRouteMatch];\n});\n\n_c = MenuList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuList\");","map":{"version":3,"sources":["/Users/work/private/博客/reacrAdmin/src/component/Layout/menu.jsx"],"names":["React","useContext","Menu","Icon","MyState","useHistory","useRouteMatch","MenuList","SubMenu","state","history","historyList","defaultKey","sessionStorage","getItem","JSON","parse","handleClick","e","key","path","setItem","stringify","keyPath","push","routerList","map","i","index","Btn","icon","title","children","item","math","value","pathName"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,UAAd,QAA+B,OAA/B;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,OAAO,KAAKC,IAAZ,MAAsB,mBAAtB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,SAAQC,UAAR,EAAmBC,aAAnB,QAAuC,kBAAvC,C,CAEA;AACA;AACA;AACA;;AACA,eAAe,SAASC,QAAT,GAAqB;AAAA;;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAcN,IAApB;AACA,QAAM;AAACO,IAAAA;AAAD,MAAUR,UAAU,CAACG,OAAD,CAA1B;AACA,QAAMM,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,WAAW,GAAGL,aAAa,EAAjC;AACA,MAAIM,UAAU,GAAG,CAAC,aAAD,EAAe,OAAf,CAAjB;;AACA,MAAGC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAH,EAA0C;AACtCF,IAAAA,UAAU,GAAGG,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAX,CAAb;AACH;;AACD,WAASG,WAAT,CAAqBC,CAArB,EAAwB;AACpB,QAAGA,CAAC,CAACC,GAAF,KAAUR,WAAW,CAACS,IAAzB,EAA+B;AAC/BP,IAAAA,cAAc,CAACQ,OAAf,CAAuB,cAAvB,EAAsCN,IAAI,CAACO,SAAL,CAAeJ,CAAC,CAACK,OAAjB,CAAtC;AACAb,IAAAA,OAAO,CAACc,IAAR,CAAaN,CAAC,CAACC,GAAf;AACH;;AACD,sBACI,QAAC,IAAD;AACI,IAAA,OAAO,EAAEF,WADb;AAEI,IAAA,mBAAmB,EAAE,CAACL,UAAU,CAAC,CAAD,CAAX,CAFzB;AAGI,IAAA,eAAe,EAAE,CAACA,UAAU,CAAC,CAAD,CAAX,CAHrB;AAII,IAAA,IAAI,EAAC,QAJT;AAKI,IAAA,KAAK,EAAC,MALV;AAAA,cAQQH,KAAK,CAACgB,UAAN,CAAiBC,GAAjB,CAAqB,CAACC,CAAD,EAAGC,KAAH,KAAY;AAC7B,UAAIC,GAAG,GAAG1B,IAAI,CAACwB,CAAC,CAACG,IAAH,CAAd;AACA,0BACI,QAAC,OAAD;AAA8B,QAAA,IAAI,eAAE,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,gBAApC;AAA4C,QAAA,KAAK,EAAEH,CAAC,CAACI,KAArD;AAAA,kBACKJ,CAAC,CAACK,QAAF,CAAWN,GAAX,CAAeO,IAAI,IAAE;AAClB,8BACI,QAAC,IAAD,CAAM,IAAN;AAAA,sBAAgCA,IAAI,CAACC,IAAL,CAAUC;AAA1C,aAAgBF,IAAI,CAACG,QAArB;AAAA;AAAA;AAAA;AAAA,kBADJ;AAGH,SAJA;AADL,SAAe,OAAMR,KAAM,EAA3B;AAAA;AAAA;AAAA;AAAA,cADJ;AASH,KAXD;AARR;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH;;GAxCuBrB,Q;UAGJF,U,EACIC,a;;;KAJAC,Q","sourcesContent":["import React,{useContext} from 'react';\nimport { Menu } from 'antd';\nimport * as Icon from '@ant-design/icons';\nimport {MyState} from './../../reducer';\nimport {useHistory,useRouteMatch} from 'react-router-dom';\n\n// 1、useHistory 跳转\n// 2、useLocation 路由信息\n// 3、useParams 参数\n// 4、useRouteMatch 路由路径信息\nexport default function MenuList () {\n    const { SubMenu } = Menu;\n    const {state} = useContext(MyState);\n    const history = useHistory();\n    const historyList = useRouteMatch();\n    let defaultKey = ['/home/:name','list0']\n    if(sessionStorage.getItem('routerActive')){\n        defaultKey = JSON.parse(sessionStorage.getItem('routerActive'))\n    }\n    function handleClick(e) {\n        if(e.key === historyList.path) return;\n        sessionStorage.setItem('routerActive',JSON.stringify(e.keyPath))\n        history.push(e.key)\n    }\n    return(\n        <Menu\n            onClick={handleClick}\n            defaultSelectedKeys={[defaultKey[0]]}\n            defaultOpenKeys={[defaultKey[1]]}\n            mode=\"inline\"\n            theme=\"dark\"\n        >\n            {\n                state.routerList.map((i,index) =>{\n                    let Btn = Icon[i.icon];\n                    return (\n                        <SubMenu key={`list${index}`} icon={<Btn/>} title={i.title}>\n                            {i.children.map(item=>{\n                                return (\n                                    <Menu.Item key={item.pathName}>{item.math.value}</Menu.Item>\n                                )\n                            })}\n                        </SubMenu>\n                    )\n                })\n            }\n        </Menu>\n    )\n\n\n}\n"]},"metadata":{},"sourceType":"module"}